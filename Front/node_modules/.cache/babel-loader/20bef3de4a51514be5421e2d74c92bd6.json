{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marcu\\\\Downloads\\\\Trabalho-DS402-main\\\\Trabalho-DS402-main\\\\Front\\\\src\\\\components\\\\meusProdutos\\\\meusProdutos.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Menu from '../template/Menu.js';\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nimport Card from \"../ListaProduto/Cards.js\";\nimport \"./meusProdutos.css\";\nimport CrudProduto from \"../CrudProdutos/CrudProduto.js\";\nimport AuthService from \"../../services/Auth.service.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst title = \"Consultar Produtos\";\nconst urlAPI = \"http://localhost:5092/api/Produto\";\nexport default function meusProdutos() {\n  _s();\n\n  const [lista, setLista] = useState([]);\n  const [listaIdProduto, setListaIdProduto] = useState([]);\n  const [Produto, setProduto] = useState([{\n    id: 0,\n    codProduto: 0,\n    nomeProduto: \"\",\n    valorProduto: \"\",\n    imagem: \"\",\n    comprado: false,\n    compradoPor: null\n  }]);\n  const [Atualizar, setAtualizar] = useState(false);\n  useEffect(() => {\n    axios(urlAPI).then(resp => {\n      setProduto(resp.data);\n      setLista(resp.data);\n    });\n    Produto.forEach(element => {\n      console.log(element);\n\n      if (element.compradoPor == AuthService.getCurrentUser().user.username) {\n        setLista(element);\n      }\n    });\n  }, []);\n\n  const deletar = Produto => {\n    axios.put(urlAPI + `/${Produto.id}`, {\n      id: Produto.id,\n      codProduto: Produto.codProduto,\n      nomeProduto: Produto.nomeProduto,\n      valorProduto: Produto.valorProduto,\n      imagem: Produto.imagem,\n      comprado: false,\n      compradoPor: null\n    }).then(resp => {\n      alert('Cancelamento de compra confirmada');\n    });\n    window.location.reload();\n  };\n\n  const renderTable = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"divPrincipal\",\n      children: lista.map(Produto => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: Produto.alugadoPor == AuthService.getCurrentUser().user.username && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            nomeProduto: Produto.nomeProduto,\n            valorProduto: Produto.valorProduto,\n            codProduto: Produto.codProduto,\n            imagem: Produto.imagem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"botao\",\n            onClick: e => deletar(Produto),\n            children: \"Cancelar compra do Produto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, Produto.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 82\n        }, this)\n      }, void 0, false))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Main, {\n    children: renderTable()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(meusProdutos, \"RC2wuhDc84XM7wgUMKrEVTbLdnY=\");","map":{"version":3,"names":["React","useState","useEffect","Menu","Main","axios","Card","CrudProduto","AuthService","title","urlAPI","meusProdutos","lista","setLista","listaIdProduto","setListaIdProduto","Produto","setProduto","id","codProduto","nomeProduto","valorProduto","imagem","comprado","compradoPor","Atualizar","setAtualizar","then","resp","data","forEach","element","console","log","getCurrentUser","user","username","deletar","put","alert","window","location","reload","renderTable","map","alugadoPor","e"],"sources":["C:/Users/marcu/Downloads/Trabalho-DS402-main/Trabalho-DS402-main/Front/src/components/meusProdutos/meusProdutos.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Menu from '../template/Menu.js'\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nimport Card from \"../ListaProduto/Cards.js\";\nimport \"./meusProdutos.css\"\nimport CrudProduto from \"../CrudProdutos/CrudProduto.js\";\nimport AuthService from \"../../services/Auth.service.js\";\n\nconst title = \"Consultar Produtos\";\n\nconst urlAPI = \"http://localhost:5092/api/Produto\";\n\nexport default function meusProdutos() {\n\n  const [lista, setLista] = useState([])\n\n  const [listaIdProduto, setListaIdProduto] = useState([])\n\n  const [Produto, setProduto] = useState([{\n    id: 0,\n    codProduto: 0,\n    nomeProduto: \"\",\n    valorProduto: \"\",\n    imagem: \"\",\n    comprado: false,\n    compradoPor: null,\n  }])\n\n\n  const [Atualizar, setAtualizar] = useState(false)\n\n  useEffect(() => {\n\n    axios(urlAPI).then((resp) => {\n      setProduto(resp.data);\n      setLista(resp.data)\n    });\n\n    Produto.forEach(element => {\n      console.log(element);\n      if (element.compradoPor == AuthService.getCurrentUser().user.username) {\n\n        setLista(element)\n      }\n    });\n\n\n\n\n\n\n  }, [])\n\n\n  const deletar = (Produto) => {\n    axios.put(urlAPI + `/${Produto.id}`, {\n      id: Produto.id,\n      codProduto: Produto.codProduto,\n      nomeProduto: Produto.nomeProduto,\n      valorProduto: Produto.valorProduto,\n      imagem: Produto.imagem,\n      comprado: false,\n      compradoPor: null\n\n    }).then((resp) => {\n      alert('Cancelamento de compra confirmada')\n    }); window.location.reload();\n  }\n\n\n  const renderTable = () => {\n    return (\n      <div className=\"divPrincipal\">\n        {lista.map((Produto) => (\n          <>\n            {Produto.alugadoPor == AuthService.getCurrentUser().user.username && <tr key={Produto.id}>\n              <Card nomeProduto={Produto.nomeProduto} valorProduto={Produto.valorProduto} codProduto={Produto.codProduto} imagem={Produto.imagem} />\n              <button className=\"botao\" onClick={e => deletar(Produto)}>Cancelar compra do Produto</button>\n            </tr>}\n          </>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <Main>\n      {renderTable()}\n    </Main>\n  );\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}
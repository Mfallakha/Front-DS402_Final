{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marcu\\\\Downloads\\\\Trabalho-DS402-main\\\\Trabalho-DS402-main\\\\Front\\\\src\\\\components\\\\meusFilmes\\\\meusFilmes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Menu from '../template/Menu.js';\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nimport Card from \"../ListaFilme/Cards.js\";\nimport \"./meusFilmes.css\";\nimport CrudFilme from \"../CrudFilme/CrudFilme.js\";\nimport AuthService from \"../../services/Auth.service.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst title = \"Consultar  Filmes\";\nconst urlAPI = \"http://localhost:5092/api/Filme\";\nexport default function MeusFilmes() {\n  _s();\n\n  const [lista, setLista] = useState([]);\n  const [listaIdFilme, setListaIdFilme] = useState([]);\n  const [Filme, setFilme] = useState([{\n    id: 0,\n    codFilme: 0,\n    nomeFilme: \"\",\n    dataFilme: \"\",\n    imagem: \"\",\n    alugado: false,\n    alugadoPor: null\n  }]);\n  const [Atualizar, setAtualizar] = useState(false);\n  useEffect(() => {\n    axios(urlAPI).then(resp => {\n      setFilme(resp.data);\n      setLista(resp.data);\n    });\n    Filme.forEach(element => {\n      console.log(element);\n\n      if (element.alugadoPor == AuthService.getCurrentUser().user.username) {\n        setLista(element);\n      }\n    });\n  }, []);\n\n  const deletar = Filme => {\n    axios.put(urlAPI + `/${Filme.id}`, {\n      id: Filme.id,\n      codFilme: Filme.codFilme,\n      nomeFilme: Filme.nomeFilme,\n      dataFilme: Filme.dataFilme,\n      imagem: Filme.imagem,\n      alugado: false,\n      alugadoPor: null\n    }).then(resp => {\n      alert('Cancelamento de aluguel confirmado');\n    });\n    window.location.reload();\n  };\n\n  const renderTable = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"divPrincipal\",\n      children: lista.map(Filme => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: Filme.alugadoPor == AuthService.getCurrentUser().user.username && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            nomeFilme: Filme.nomeFilme,\n            dataFilme: Filme.dataFilme,\n            codFilme: Filme.codFilme,\n            imgem: Filme.imagem\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"butao\",\n            onClick: e => deletar(Filme),\n            children: \"Cancelar aluguel do filme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, Filme.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 80\n        }, this)\n      }, void 0, false))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Main, {\n    children: renderTable()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MeusFilmes, \"MrlbqUW4SB5P8WzJQOH/PBp2CHg=\");\n\n_c = MeusFilmes;\n\nvar _c;\n\n$RefreshReg$(_c, \"MeusFilmes\");","map":{"version":3,"names":["React","useState","useEffect","Menu","Main","axios","Card","CrudFilme","AuthService","title","urlAPI","MeusFilmes","lista","setLista","listaIdFilme","setListaIdFilme","Filme","setFilme","id","codFilme","nomeFilme","dataFilme","imagem","alugado","alugadoPor","Atualizar","setAtualizar","then","resp","data","forEach","element","console","log","getCurrentUser","user","username","deletar","put","alert","window","location","reload","renderTable","map","e"],"sources":["C:/Users/marcu/Downloads/Trabalho-DS402-main/Trabalho-DS402-main/Front/src/components/meusFilmes/meusFilmes.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Menu from '../template/Menu.js'\nimport Main from \"../template/Main\";\nimport axios from \"axios\";\nimport Card from \"../ListaFilme/Cards.js\";\nimport \"./meusFilmes.css\"\nimport CrudFilme from \"../CrudFilme/CrudFilme.js\";\nimport AuthService from \"../../services/Auth.service.js\";\n\nconst title = \"Consultar  Filmes\";\n\nconst urlAPI = \"http://localhost:5092/api/Filme\";\n\nexport default function MeusFilmes() {\n\n  const [lista, setLista] = useState([])\n\n  const [listaIdFilme, setListaIdFilme] = useState([])\n\n  const [Filme, setFilme] = useState([{\n    id: 0,\n    codFilme: 0,\n    nomeFilme: \"\",\n    dataFilme: \"\",\n    imagem: \"\",\n    alugado: false,\n    alugadoPor: null,\n  }])\n\n\n  const [Atualizar, setAtualizar] = useState(false)\n\n  useEffect(() => {\n\n    axios(urlAPI).then((resp) => {\n      setFilme(resp.data);\n      setLista(resp.data)\n    });\n\n    Filme.forEach(element => {\n      console.log(element);\n      if (element.alugadoPor == AuthService.getCurrentUser().user.username) {\n\n        setLista(element)\n      }\n    });\n\n\n\n\n\n\n  }, [])\n\n\n  const deletar = (Filme) => {\n    axios.put(urlAPI + `/${Filme.id}`, {\n      id: Filme.id,\n      codFilme: Filme.codFilme,\n      nomeFilme: Filme.nomeFilme,\n      dataFilme: Filme.dataFilme,\n      imagem: Filme.imagem,\n      alugado: false,\n      alugadoPor: null\n\n    }).then((resp) => {\n      alert('Cancelamento de aluguel confirmado')\n    }); window.location.reload();\n  }\n\n\n  const renderTable = () => {\n    return (\n      <div className=\"divPrincipal\">\n        {lista.map((Filme) => (\n          <>\n            {Filme.alugadoPor == AuthService.getCurrentUser().user.username && <tr key={Filme.id}>\n              <Card nomeFilme={Filme.nomeFilme} dataFilme={Filme.dataFilme} codFilme={Filme.codFilme} imgem={Filme.imagem} />\n              <button className=\"butao\" onClick={e => deletar(Filme)}>Cancelar aluguel do filme</button>\n            </tr>}\n          </>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <Main>\n      {renderTable()}\n    </Main>\n  );\n\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAO,kBAAP;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;;;AAEA,MAAMC,KAAK,GAAG,mBAAd;AAEA,MAAMC,MAAM,GAAG,iCAAf;AAEA,eAAe,SAASC,UAAT,GAAsB;EAAA;;EAEnC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;EAEA,MAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,EAAD,CAAhD;EAEA,MAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,CAAC;IAClCiB,EAAE,EAAE,CAD8B;IAElCC,QAAQ,EAAE,CAFwB;IAGlCC,SAAS,EAAE,EAHuB;IAIlCC,SAAS,EAAE,EAJuB;IAKlCC,MAAM,EAAE,EAL0B;IAMlCC,OAAO,EAAE,KANyB;IAOlCC,UAAU,EAAE;EAPsB,CAAD,CAAD,CAAlC;EAWA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BzB,QAAQ,CAAC,KAAD,CAA1C;EAEAC,SAAS,CAAC,MAAM;IAEdG,KAAK,CAACK,MAAD,CAAL,CAAciB,IAAd,CAAoBC,IAAD,IAAU;MAC3BX,QAAQ,CAACW,IAAI,CAACC,IAAN,CAAR;MACAhB,QAAQ,CAACe,IAAI,CAACC,IAAN,CAAR;IACD,CAHD;IAKAb,KAAK,CAACc,OAAN,CAAcC,OAAO,IAAI;MACvBC,OAAO,CAACC,GAAR,CAAYF,OAAZ;;MACA,IAAIA,OAAO,CAACP,UAAR,IAAsBhB,WAAW,CAAC0B,cAAZ,GAA6BC,IAA7B,CAAkCC,QAA5D,EAAsE;QAEpEvB,QAAQ,CAACkB,OAAD,CAAR;MACD;IACF,CAND;EAaD,CApBQ,EAoBN,EApBM,CAAT;;EAuBA,MAAMM,OAAO,GAAIrB,KAAD,IAAW;IACzBX,KAAK,CAACiC,GAAN,CAAU5B,MAAM,GAAI,IAAGM,KAAK,CAACE,EAAG,EAAhC,EAAmC;MACjCA,EAAE,EAAEF,KAAK,CAACE,EADuB;MAEjCC,QAAQ,EAAEH,KAAK,CAACG,QAFiB;MAGjCC,SAAS,EAAEJ,KAAK,CAACI,SAHgB;MAIjCC,SAAS,EAAEL,KAAK,CAACK,SAJgB;MAKjCC,MAAM,EAAEN,KAAK,CAACM,MALmB;MAMjCC,OAAO,EAAE,KANwB;MAOjCC,UAAU,EAAE;IAPqB,CAAnC,EASGG,IATH,CASSC,IAAD,IAAU;MAChBW,KAAK,CAAC,oCAAD,CAAL;IACD,CAXD;IAWIC,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACL,CAbD;;EAgBA,MAAMC,WAAW,GAAG,MAAM;IACxB,oBACE;MAAK,SAAS,EAAC,cAAf;MAAA,UACG/B,KAAK,CAACgC,GAAN,CAAW5B,KAAD,iBACT;QAAA,UACGA,KAAK,CAACQ,UAAN,IAAoBhB,WAAW,CAAC0B,cAAZ,GAA6BC,IAA7B,CAAkCC,QAAtD,iBAAkE;UAAA,wBACjE,QAAC,IAAD;YAAM,SAAS,EAAEpB,KAAK,CAACI,SAAvB;YAAkC,SAAS,EAAEJ,KAAK,CAACK,SAAnD;YAA8D,QAAQ,EAAEL,KAAK,CAACG,QAA9E;YAAwF,KAAK,EAAEH,KAAK,CAACM;UAArG;YAAA;YAAA;YAAA;UAAA,QADiE,eAEjE;YAAQ,SAAS,EAAC,OAAlB;YAA0B,OAAO,EAAEuB,CAAC,IAAIR,OAAO,CAACrB,KAAD,CAA/C;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFiE;QAAA,GAASA,KAAK,CAACE,EAAf;UAAA;UAAA;UAAA;QAAA;MADrE,iBADD;IADH;MAAA;MAAA;MAAA;IAAA,QADF;EAYD,CAbD;;EAeA,oBACE,QAAC,IAAD;IAAA,UACGyB,WAAW;EADd;IAAA;IAAA;IAAA;EAAA,QADF;AAMD;;GA/EuBhC,U;;KAAAA,U"},"metadata":{},"sourceType":"module"}